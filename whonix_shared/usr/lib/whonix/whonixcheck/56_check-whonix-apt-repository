#!/bin/bash

# This file is part of Whonix
# Copyright (C) 2012 - 2013 adrelanos <adrelanos at riseup dot net>
# See the file COPYING for copying conditions.

check_whonix_apt_repository() {
   trap "error_handler" ERR

   if [ -f "/etc/apt/sources.list.d/whonix.list" ]; then
      local MSG="Whonix APT Repository: Enabled. [$whonix_codename Repository]
When the Whonix team releases an update, it will be AUTOMATICALLY installed. Please read https://whonix.org/wiki/Trust to understand the risk.
    Start menu -> Applications -> System -> Whonix Repository"
      $output ${output_opts[@]} --messagex --typex "info" --titlex "$TITLE" --message "$MSG"

      local MSG="Whonix APT Repository: Enabled. [$whonix_codename Repository]
When the Whonix team releases an update, it will be AUTOMATICALLY installed. Please read https://whonix.org/wiki/Trust to understand the risk.
   sudo whonix_repository"
      $output ${output_opts[@]} --messagecli --typecli "info" --titlecli "$TITLE" --message "$MSG"
   else
      local MSG="Whonix APT Repository: Disabled.
When the Whonix team releases an update, it will be NOT be installed. Please read https://whonix.org/wiki/Trust to understand the risk.
You will still be notified when updated Whonix packages are released by whonixcheck's Whonix News. You are free to manually update from source code.
    Start menu -> Applications -> System -> Whonix Repository"
      $output ${output_opts[@]} --messagex --typex "info" --titlex "$TITLE" --message "$MSG"

      local MSG="Whonix APT Repository: Disabled.
When the Whonix team releases an update, it will be NOT be installed. Please read https://whonix.org/wiki/Trust to understand the risk.
You will still be notified when updated Whonix packages are released by whonixcheck's Whonix News. You are free to manually update from source code.
    sudo whonix_repository"
      $output ${output_opts[@]} --messagecli --typecli "info" --titlecli "$TITLE" --message "$MSG"
   fi
}
